import { Topic } from '../types';

export const powersRootsTopic: Topic = {
  slug: 'powers-roots',
  titleEN: 'Powers & Roots',
  titleKR: '거듭제곱과 루트',
  category: 'arithmetic',
  estimatedMinutes: 20,
  ready: true,

  intuition: {
    analogy:
      "거듭제곱은 곱셈의 '반복'이에요. 2+2+2+2를 2×4로 줄이는 것처럼, 2×2×2×2를 2⁴로 줄이는 거죠. 그리고 **root (루트)**는 그 반대 방향 — '어떤 수를 몇 번 곱하면 이 수가 될까?'를 묻는 겁니다. 마치 엘리베이터의 '올라가기(거듭제곱)'와 '내려오기(루트)' 버튼 같은 관계예요.",
    pattern:
      '2의 거듭제곱: 1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024 — GMAT에서 자주 등장하니 반드시 암기하세요! 3의 거듭제곱: 1, 3, 9, 27, 81, 243도 중요합니다. 완전제곱수(1, 4, 9, 16, 25, 36, 49, 64, 81, 100)도 즉시 알아볼 수 있어야 해요.',
    whyItMatters:
      'GMAT QR에서 **exponent (지수)** 규칙은 거의 매 시험에 출제됩니다. 특히 지수 법칙을 이용한 식 간소화, 큰 수의 비교, 그리고 루트를 포함한 계산이 핵심입니다. 규칙을 정확히 알면 30초 안에 풀 수 있지만, 모르면 계산 실수의 늪에 빠집니다.',
  },

  commonMistakes: [
    {
      wrong: '(a + b)² = a² + b² 이라고 계산한다',
      correct:
        '(a + b)² = a² + 2ab + b² 입니다. 가운데 항 **2ab**를 절대 빠뜨리면 안 됩니다.',
      examTip:
        'GMAT은 이 실수를 유도하는 문제를 자주 출제합니다. (a + b)²을 보면 반사적으로 "제곱, 두 배 곱, 제곱"을 떠올리세요.',
    },
    {
      wrong: 'x² = 4일 때 x = 2라고만 답한다',
      correct:
        'x² = 4이면 x = 2 또는 x = -2입니다. **Square root (제곱근)**을 구할 때 양수와 음수 두 해를 모두 고려해야 합니다.',
      examTip:
        '특히 Data Sufficiency에서 "x² = 9 → x는 얼마인가?"가 나오면, x = ±3이므로 유일하게 결정되지 않습니다. 단, √9는 양의 제곱근만 의미하여 √9 = 3입니다.',
    },
    {
      wrong: 'a⁻ⁿ은 음수라고 생각한다',
      correct:
        'a⁻ⁿ = 1/aⁿ 입니다. **Negative exponent (음의 지수)**는 "음수"가 아니라 "역수(reciprocal)"를 의미합니다. 예: 2⁻³ = 1/2³ = 1/8',
      examTip:
        '"2⁻³은 양수인가 음수인가?" — 양수입니다! 밑(base)이 양수이면 어떤 지수를 붙여도 결과는 항상 양수예요.',
    },
    {
      wrong: '√(a² + b²) = a + b 라고 계산한다',
      correct:
        '√(a² + b²) ≠ a + b 입니다. 루트는 덧셈에 대해 분배되지 않습니다. 예: √(9 + 16) = √25 = 5이지만, 3 + 4 = 7입니다.',
      examTip:
        '루트 안의 덧셈/뺄셈은 절대 분리할 수 없습니다. √(ab) = √a × √b는 가능하지만, √(a+b) ≠ √a + √b임을 명심하세요.',
    },
    {
      wrong: '(aᵐ)ⁿ = aᵐ⁺ⁿ 이라고 계산한다',
      correct:
        '(aᵐ)ⁿ = aᵐˣⁿ 입니다. "거듭제곱의 거듭제곱"은 지수를 곱합니다. aᵐ × aⁿ = aᵐ⁺ⁿ과 혼동하지 마세요.',
      examTip:
        '핵심 구분: 같은 밑의 곱셈(aᵐ × aⁿ) → 지수를 더하기, 거듭제곱의 거듭제곱((aᵐ)ⁿ) → 지수를 곱하기. 이 두 규칙을 헷갈리면 GMAT에서 확실하게 틀립니다.',
    },
  ],

  theoryContent: `## 지수의 기본 개념

**Exponent (지수)**는 같은 수를 반복해서 곱하는 횟수를 나타냅니다. aⁿ에서 a를 **base (밑)**, n을 **exponent (지수)**라고 합니다.

예시: 2⁵ = 2 × 2 × 2 × 2 × 2 = 32

## 지수 법칙 (Exponent Rules)

GMAT에서 반드시 알아야 할 핵심 법칙들입니다:

**같은 밑의 곱셈**: aᵐ × aⁿ = aᵐ⁺ⁿ
두 수의 밑이 같으면 지수를 더합니다.
예시: 2³ × 2⁴ = 2⁷ = 128

**같은 밑의 나눗셈**: aᵐ ÷ aⁿ = aᵐ⁻ⁿ
두 수의 밑이 같으면 지수를 뺍니다.
예시: 3⁵ ÷ 3² = 3³ = 27

**거듭제곱의 거듭제곱**: (aᵐ)ⁿ = aᵐˣⁿ
바깥 지수를 안쪽 지수에 곱합니다.
예시: (2³)⁴ = 2¹² = 4096

**곱의 거듭제곱**: (ab)ⁿ = aⁿ × bⁿ
괄호 안 각 요소에 지수를 분배합니다.
예시: (2 × 3)⁴ = 2⁴ × 3⁴ = 16 × 81 = 1296

**몫의 거듭제곱**: (a/b)ⁿ = aⁿ/bⁿ
분자와 분모에 각각 지수를 적용합니다.
예시: (2/3)³ = 8/27

## 특수 지수

**Zero Exponent (영 지수)**: a⁰ = 1 (단, a ≠ 0)
어떤 0이 아닌 수의 0제곱은 항상 1입니다.
이유: aⁿ ÷ aⁿ = aⁿ⁻ⁿ = a⁰ = 1

**Negative Exponent (음의 지수)**: a⁻ⁿ = 1/aⁿ
음의 지수는 역수를 의미합니다.
예시: 5⁻² = 1/5² = 1/25

## 분수 지수와 루트

**Fractional Exponent (분수 지수)**는 루트와 같은 의미입니다:

a^(1/n) = ⁿ√a (a의 n제곱근)
예시: 8^(1/3) = ³√8 = 2 (2³ = 8이므로)

a^(m/n) = ⁿ√(aᵐ) = (ⁿ√a)ᵐ
예시: 27^(2/3) = (³√27)² = 3² = 9

## 제곱근 (Square Root)

**Square Root (제곱근)** √a는 제곱하면 a가 되는 양수입니다.

핵심 성질:
- √(a × b) = √a × √b
- √(a / b) = √a / √b
- √(a²) = |a| (절댓값!)
- (√a)² = a

주의: √(a + b) ≠ √a + √b — 루트는 덧셈에 분배되지 않습니다!

## 근호의 간소화 (Simplifying Radicals)

**Radical (근호)** 안의 수를 완전제곱수 인수로 분해하여 간소화합니다.

예시: √72 = √(36 × 2) = √36 × √2 = 6√2
예시: √50 = √(25 × 2) = 5√2
예시: ³√54 = ³√(27 × 2) = 3³√2

## 분모의 유리화 (Rationalizing Denominators)

분모에 루트가 있으면 유리화합니다:

단항식: 1/√3 = 1/√3 × √3/√3 = √3/3

이항식: 1/(√5 + √2) = (√5 - √2)/((√5 + √2)(√5 - √2)) = (√5 - √2)/(5 - 2) = (√5 - √2)/3

핵심: 분모가 a + √b 형태이면, **conjugate (켤레식)** a - √b를 분자와 분모에 곱합니다.`,

  formulas: [
    'aᵐ × aⁿ = aᵐ⁺ⁿ (같은 밑의 곱 → 지수를 더하기)',
    'aᵐ ÷ aⁿ = aᵐ⁻ⁿ (같은 밑의 나눗셈 → 지수를 빼기)',
    '(aᵐ)ⁿ = aᵐˣⁿ (거듭제곱의 거듭제곱 → 지수를 곱하기)',
    '(ab)ⁿ = aⁿ × bⁿ (곱의 거듭제곱 → 각각에 분배)',
    'a⁰ = 1 (a ≠ 0), a⁻ⁿ = 1/aⁿ',
    'a^(1/n) = ⁿ√a, a^(m/n) = (ⁿ√a)ᵐ',
    '√(ab) = √a × √b, √(a/b) = √a / √b',
    '분모 유리화: 1/√a = √a/a, 1/(√a ± √b) → 켤레식 곱하기',
  ],

  glossary: [
    {
      en: 'Exponent / Power',
      kr: '지수 / 거듭제곱',
      definition:
        '같은 수를 반복하여 곱하는 횟수. aⁿ에서 n이 지수이며, aⁿ 전체를 거듭제곱이라 한다.',
    },
    {
      en: 'Base',
      kr: '밑',
      definition:
        '거듭제곱에서 반복 곱해지는 수. aⁿ에서 a가 밑이다.',
    },
    {
      en: 'Square Root',
      kr: '제곱근',
      definition:
        '제곱하면 a가 되는 수. √a는 양의 제곱근만을 의미한다. 예: √25 = 5',
    },
    {
      en: 'Cube Root',
      kr: '세제곱근',
      definition:
        '세 번 곱하면 a가 되는 수. ³√8 = 2 (2³ = 8)',
    },
    {
      en: 'Radical',
      kr: '근호',
      definition:
        '루트 기호(√)를 포함한 수학 표현. √2, ³√5 등이 근호 표현이다.',
    },
    {
      en: 'Perfect Square',
      kr: '완전제곱수',
      definition:
        '어떤 정수의 제곱인 수. 1, 4, 9, 16, 25, 36, 49, 64, 81, 100 등',
    },
    {
      en: 'Perfect Cube',
      kr: '완전세제곱수',
      definition:
        '어떤 정수의 세제곱인 수. 1, 8, 27, 64, 125, 216 등',
    },
    {
      en: 'Negative Exponent',
      kr: '음의 지수',
      definition:
        'a⁻ⁿ = 1/aⁿ. 음의 지수는 역수를 의미한다. 예: 3⁻² = 1/9',
    },
    {
      en: 'Fractional Exponent',
      kr: '분수 지수',
      definition:
        'a^(m/n) = ⁿ√(aᵐ). 분수 지수는 루트와 거듭제곱의 조합이다.',
    },
    {
      en: 'Rationalize',
      kr: '유리화',
      definition:
        '분모의 무리수(루트)를 없애는 과정. 분자와 분모에 적절한 수를 곱한다.',
    },
    {
      en: 'Conjugate',
      kr: '켤레식',
      definition:
        'a + √b의 켤레식은 a - √b. 두 켤레식의 곱은 a² - b로 루트가 사라진다.',
    },
    {
      en: 'Scientific Notation',
      kr: '과학적 표기법',
      definition:
        'a × 10ⁿ (1 ≤ a < 10) 형태로 매우 크거나 작은 수를 표현하는 방법. 예: 3,200 = 3.2 × 10³',
    },
  ],

  problems: [
    // ==================== EASY (5 problems) ====================
    {
      id: 'pow-1',
      topicSlug: 'powers-roots',
      question: '2⁵ × 2³ = ?',
      options: ['2⁸', '2¹⁵', '4⁸', '4¹⁵', '2²'],
      correctIndex: 0,
      explanation:
        '같은 밑의 곱셈에서는 지수를 더합니다.\n\n2⁵ × 2³ = 2⁵⁺³ = 2⁸\n\n검증: 2⁵ = 32, 2³ = 8, 32 × 8 = 256 = 2⁸ ✓',
      difficulty: 'easy',
    },
    {
      id: 'pow-2',
      topicSlug: 'powers-roots',
      question: '√144는 얼마입니까?',
      options: ['10', '11', '12', '13', '14'],
      correctIndex: 2,
      explanation:
        '12² = 144이므로 √144 = 12입니다.\n\n완전제곱수를 암기하면 빠르게 풀 수 있습니다:\n10² = 100, 11² = 121, 12² = 144, 13² = 169',
      difficulty: 'easy',
    },
    {
      id: 'pow-3',
      topicSlug: 'powers-roots',
      question: '3⁰ + 5⁰ + 7⁰ = ?',
      options: ['0', '1', '3', '15', '105'],
      correctIndex: 2,
      explanation:
        '0이 아닌 어떤 수의 0제곱은 항상 1입니다.\n\n3⁰ = 1\n5⁰ = 1\n7⁰ = 1\n\n따라서 3⁰ + 5⁰ + 7⁰ = 1 + 1 + 1 = 3',
      difficulty: 'easy',
    },
    {
      id: 'pow-4',
      topicSlug: 'powers-roots',
      question: '4⁻² = ?',
      options: ['-16', '-8', '1/8', '1/16', '-1/16'],
      correctIndex: 3,
      explanation:
        '음의 지수는 역수를 의미합니다.\n\n4⁻² = 1/4² = 1/16\n\n주의: 음의 지수는 "음수"가 아니라 "역수"입니다. 밑이 양수이므로 결과도 양수입니다.',
      difficulty: 'easy',
    },
    {
      id: 'pow-5',
      topicSlug: 'powers-roots',
      question: '√50을 가장 간단한 형태로 나타내면?',
      options: ['5√2', '2√5', '10√5', '25√2', '5√10'],
      correctIndex: 0,
      explanation:
        '50을 완전제곱수 인수로 분해합니다.\n\n√50 = √(25 × 2) = √25 × √2 = 5√2\n\n검증: (5√2)² = 25 × 2 = 50 ✓',
      difficulty: 'easy',
    },

    // ==================== MEDIUM (6 problems) ====================
    {
      id: 'pow-6',
      topicSlug: 'powers-roots',
      question: '(2³)⁴ ÷ 2⁸ = ?',
      options: ['2²', '2⁴', '2⁸', '2¹²', '2²⁰'],
      correctIndex: 1,
      explanation:
        '거듭제곱의 거듭제곱은 지수를 곱합니다.\n\n(2³)⁴ = 2³ˣ⁴ = 2¹²\n\n같은 밑의 나눗셈은 지수를 뺍니다.\n2¹² ÷ 2⁸ = 2¹²⁻⁸ = 2⁴ = 16\n\n검증: (2³)⁴ = 8⁴ = 4096, 2⁸ = 256, 4096 ÷ 256 = 16 = 2⁴ ✓',
      difficulty: 'medium',
    },
    {
      id: 'pow-7',
      topicSlug: 'powers-roots',
      question: '27^(2/3) = ?',
      options: ['3', '6', '9', '18', '81'],
      correctIndex: 2,
      explanation:
        '분수 지수는 루트와 거듭제곱의 조합입니다.\n\n27^(2/3) = (³√27)² = 3² = 9\n\n단계별 풀이:\n1. 분모 3 → 세제곱근: ³√27 = 3 (3³ = 27)\n2. 분자 2 → 제곱: 3² = 9',
      difficulty: 'medium',
    },
    {
      id: 'pow-8',
      topicSlug: 'powers-roots',
      question: '6/√3을 유리화하면?',
      options: ['2√3', '3√2', '6√3', '√3/6', '2√6'],
      correctIndex: 0,
      explanation:
        '분모를 유리화하기 위해 분자와 분모에 √3을 곱합니다.\n\n6/√3 = (6 × √3)/(√3 × √3) = 6√3/3 = 2√3\n\n검증: (2√3)² = 4 × 3 = 12, (6/√3)² = 36/3 = 12 ✓',
      difficulty: 'medium',
    },
    {
      id: 'pow-9',
      topicSlug: 'powers-roots',
      question:
        '만약 3ˣ = 81이면, 3^(x-2)는 얼마입니까?',
      options: ['3', '9', '27', '79', '243'],
      correctIndex: 1,
      explanation:
        '먼저 x를 구합니다.\n3ˣ = 81 = 3⁴ → x = 4\n\n3^(x-2) = 3^(4-2) = 3² = 9\n\n다른 풀이 (x를 구하지 않고):\n3^(x-2) = 3ˣ / 3² = 81/9 = 9',
      difficulty: 'medium',
    },
    {
      id: 'pow-10',
      topicSlug: 'powers-roots',
      question:
        '√75 + √27을 가장 간단한 형태로 나타내면?',
      options: ['√102', '6√3', '8√3', '5√3 + 3√3', '12√3'],
      correctIndex: 2,
      explanation:
        '각 루트를 간소화한 후 같은 근호끼리 더합니다.\n\n√75 = √(25 × 3) = 5√3\n√27 = √(9 × 3) = 3√3\n\n5√3 + 3√3 = 8√3\n\n주의: √75 + √27 ≠ √(75 + 27) = √102. 루트끼리 직접 더할 수 없고, 근호 안의 수가 같은 경우에만 계수를 더할 수 있습니다.',
      difficulty: 'medium',
    },
    {
      id: 'pow-11',
      topicSlug: 'powers-roots',
      question:
        '2ⁿ + 2ⁿ + 2ⁿ + 2ⁿ을 하나의 거듭제곱으로 나타내면?',
      options: ['2⁴ⁿ', '8ⁿ', '2ⁿ⁺²', '4²ⁿ', '2²ⁿ'],
      correctIndex: 2,
      explanation:
        '같은 항 4개를 더하는 것은 4를 곱하는 것과 같습니다.\n\n2ⁿ + 2ⁿ + 2ⁿ + 2ⁿ = 4 × 2ⁿ = 2² × 2ⁿ = 2ⁿ⁺²\n\n이 유형은 GMAT에서 매우 자주 출제됩니다. "같은 항의 덧셈 → 곱셈으로 변환 → 지수 법칙 적용"의 패턴을 기억하세요.',
      difficulty: 'medium',
    },

    // ==================== HARD (4 problems) ====================
    {
      id: 'pow-12',
      topicSlug: 'powers-roots',
      question:
        '만약 5^(2x+1) = 5^(x) × 125이면, x는 얼마입니까?',
      options: ['1', '2', '3', '4', '5'],
      correctIndex: 1,
      explanation:
        '모든 항을 같은 밑(5)으로 통일합니다.\n\n125 = 5³이므로:\n5^(2x+1) = 5ˣ × 5³ = 5^(x+3)\n\n밑이 같으므로 지수를 비교합니다:\n2x + 1 = x + 3\nx = 2\n\n검증:\n좌변: 5^(2×2+1) = 5⁵ = 3125\n우변: 5² × 125 = 25 × 125 = 3125 ✓',
      difficulty: 'hard',
    },
    {
      id: 'pow-13',
      topicSlug: 'powers-roots',
      question:
        '1/(√7 - √5)을 유리화한 결과는?',
      options: [
        '(√7 + √5)/2',
        '(√7 - √5)/2',
        '(√7 + √5)/12',
        '(√7 - √5)/12',
        '2(√7 + √5)',
      ],
      correctIndex: 0,
      explanation:
        '분모의 켤레식(conjugate)을 분자와 분모에 곱합니다.\n\n1/(√7 - √5) × (√7 + √5)/(√7 + √5)\n= (√7 + √5)/((√7)² - (√5)²)\n= (√7 + √5)/(7 - 5)\n= (√7 + √5)/2\n\n핵심 공식: (a - b)(a + b) = a² - b²를 이용하여 분모의 루트를 제거합니다.',
      difficulty: 'hard',
    },
    {
      id: 'pow-14',
      topicSlug: 'powers-roots',
      question:
        '다음 세 수를 크기 순서로 올바르게 나열한 것은?\n\nA = 2⁶⁰, B = 3⁴⁰, C = 5³⁰',
      options: [
        'A < B < C',
        'A < C < B',
        'B < A < C',
        'C < A < B',
        'C < B < A',
      ],
      correctIndex: 0,
      explanation:
        '세 수를 같은 지수로 통일하여 비교합니다. 60, 40, 30의 공약수인 10을 사용합니다.\n\nA = 2⁶⁰ = (2⁶)¹⁰ = 64¹⁰\nB = 3⁴⁰ = (3⁴)¹⁰ = 81¹⁰\nC = 5³⁰ = (5³)¹⁰ = 125¹⁰\n\n밑을 비교하면: 64 < 81 < 125\n따라서: 64¹⁰ < 81¹⁰ < 125¹⁰\n\n즉, A < B < C\n\n이 유형의 핵심: 지수가 다른 거듭제곱을 비교할 때는 공통 지수로 변환합니다.',
      difficulty: 'hard',
    },
    {
      id: 'pow-15',
      topicSlug: 'powers-roots',
      question:
        '(2⁸ + 2⁸)/(2⁷ + 2⁷) = ?',
      options: ['1/2', '1', '2', '4', '8'],
      correctIndex: 2,
      explanation:
        '분자와 분모를 각각 정리합니다.\n\n분자: 2⁸ + 2⁸ = 2 × 2⁸ = 2⁹\n분모: 2⁷ + 2⁷ = 2 × 2⁷ = 2⁸\n\n따라서: 2⁹/2⁸ = 2⁹⁻⁸ = 2¹ = 2\n\n이 유형은 GMAT 빈출 문제입니다. 같은 항의 덧셈을 곱셈으로 바꾸는 것이 핵심 테크닉입니다.\n\n숫자로 검증: (256 + 256)/(128 + 128) = 512/256 = 2 ✓',
      difficulty: 'hard',
    },
  ],
};
