import { Topic } from '../types';

export const ratiosProportionsTopic: Topic = {
  slug: 'ratios-proportions',
  titleEN: 'Ratios & Proportions',
  titleKR: '비율과 비례',
  category: 'arithmetic',
  estimatedMinutes: 20,
  ready: true,

  intuition: {
    analogy: "비율은 '레시피'와 같아요. 커피와 물을 1:5로 타면 진하고, 1:10으로 타면 연해요. 실제로 몇 ml를 쓰든 상관없이, 비율만 같으면 같은 맛이 나는 거죠. 비율은 '절대적 양'이 아닌 '관계'를 나타냅니다.",
    pattern: "비율 3:5에서 전체는 항상 3+5=8의 배수예요. 전체가 40명이면? 40÷8=5배, 그러니 3×5=15명과 5×5=25명. 이 패턴만 익히면 비율 문제의 80%는 풀 수 있어요.",
    whyItMatters: "GMAT Word Problem의 핵심 도구입니다. 비율 → 실제값 변환, 세 개 이상의 비율 연결, 혼합 비율 문제가 매 시험 2-3문제씩 출제됩니다.",
  },

  commonMistakes: [
    {
      wrong: '비율이 3:5이면 첫 번째 값은 3이다',
      correct: '비율은 상대적 크기만 나타냅니다. 실제 값은 3k, 5k (k는 양의 정수)로, k를 모르면 실제 값을 알 수 없습니다.',
      examTip: 'DS 문제에서 "비율만 주고 실제 값을 묻는" 유형이 자주 출제됩니다. 비율만으로는 충분하지 않다는 것이 함정입니다.',
    },
    {
      wrong: '평균 속도 = 두 속도의 산술 평균이다',
      correct: '같은 거리를 다른 속도로 이동할 때, 평균 속도 = 2ab/(a+b)입니다 (조화평균). 예: 60km/h와 40km/h → 평균 속도는 50이 아니라 48km/h입니다.',
      examTip: '"왕복 평균 속도" 문제에서 단순 평균을 선지에 넣어 함정을 만듭니다.',
    },
    {
      wrong: 'a:b와 b:c가 주어지면 a:c = a:c로 바로 구할 수 있다',
      correct: 'b의 값을 통일해야 합니다. a:b = 2:3, b:c = 4:5라면 b를 12로 통일 → a:b:c = 8:12:15이므로 a:c = 8:15입니다.',
      examTip: '세 개 이상의 비율 연결은 GMAT 단골 문제입니다. 공통 항목의 LCM을 구하는 것이 핵심입니다.',
    },
    {
      wrong: '비율 문제에서 비율을 더할 수 있다',
      correct: '비율은 직접 더하거나 빼면 안 됩니다. 비율을 실제 값으로 변환한 후에 연산해야 합니다.',
      examTip: '"두 그룹을 합칠 때의 비율" 문제에서 비율을 단순 합산하는 함정에 빠지지 마세요.',
    },
  ],

  theoryContent: `## 비율 (Ratio)

**Ratio (비율)**란 두 양의 상대적인 크기를 나타내는 것입니다. a와 b의 비율은 **a:b** 또는 **a/b**로 표기합니다. 예를 들어 남학생 3명, 여학생 5명이 있다면 남녀 비율은 3:5입니다.

비율을 **Simplify (약분)**할 때는 양쪽을 최대공약수(GCF)로 나눕니다. 예를 들어 12:18의 경우, GCF = 6이므로 12:18 = 2:3으로 단순화됩니다.

중요: 비율은 실제 값이 아닌 상대적 크기만 나타냅니다. a:b = 3:5라고 해서 a=3, b=5인 것이 아닙니다. 실제 값은 a=3k, b=5k (k는 양의 정수)입니다. 이것이 GMAT에서 자주 출제되는 **함정**입니다.

## 비례 (Proportion)

**Proportion (비례)**이란 두 비율이 같다는 등식입니다. a:b = c:d 또는 a/b = c/d로 표현합니다. 이때 **Cross Multiplication (교차곱)**을 사용하여 ad = bc로 변환할 수 있습니다.

예시: x:6 = 4:12 → 12x = 24 → x = 2

## 정비례와 반비례

**Direct Proportion (정비례)**: 한 양이 증가하면 다른 양도 같은 비율로 증가하는 관계입니다. 수식으로 **y = kx** (k는 **Proportionality Constant 비례상수**)로 나타냅니다. 예를 들어, 시속 60km로 달릴 때 거리는 시간에 정비례합니다.

**Inverse Proportion (반비례)**: 한 양이 증가하면 다른 양은 같은 비율로 감소하는 관계입니다. 수식으로 **y = k/x** (k는 비례상수)로 나타냅니다. 예를 들어, 일정한 거리를 이동할 때 속도가 빨라지면 걸리는 시간은 줄어듭니다.

## Part-to-Part vs Part-to-Whole 비율

**Part-to-Part Ratio (부분 대 부분 비율)**: 전체의 두 부분을 비교합니다. 남:여 = 3:5는 부분 대 부분 비율입니다.

**Part-to-Whole Ratio (부분 대 전체 비율)**: 한 부분을 전체와 비교합니다. 남:전체 = 3:8 (남 3 + 여 5 = 전체 8). GMAT에서는 부분-부분 비율을 주고 부분-전체를 묻거나, 그 반대를 묻는 문제가 자주 나옵니다.

## 혼합 비율 (Mixture & Alligation)

두 용액이나 물질을 섞을 때, 혼합 비율을 구하는 문제가 자주 출제됩니다. 농도가 다른 두 용액 A(농도 a%)와 B(농도 b%)를 섞어 원하는 농도 c%를 만들 때, A와 B의 혼합 비율은 다음과 같습니다:

A의 양 : B의 양 = (b - c) : (c - a)

이것을 **Alligation (알리게이션)** 방법이라 합니다.

## 백분율과 비율

**Percent (백분율, 퍼센트)**란 전체를 100으로 보았을 때의 비율입니다. 즉, 25%는 25/100 = 1/4을 의미합니다. 백분율 = (부분/전체) × 100으로 계산합니다.

## GMAT 핵심 함정

1. 비율은 실제 값을 알려주지 않습니다. 비율 3:5는 실제 값이 3과 5라는 뜻이 아닙니다.
2. 비율을 비교할 때는 반드시 같은 기준으로 통일해야 합니다.
3. 세 개 이상의 비율을 연결할 때는 공통 항을 맞춰야 합니다. 예: x:y = 2:3이고 y:z = 4:5이면, y를 12(3과 4의 LCM)로 맞춰 x:y:z = 8:12:15가 됩니다.`,

  formulas: [
    'a:b = c:d → ad = bc (Cross Multiplication 교차곱)',
    '비율 a:b에서 전체 = a+b 파트',
    '정비례: y = kx (k는 비례상수)',
    '반비례: y = k/x (k는 비례상수)',
    '백분율 = (부분/전체) × 100',
  ],

  glossary: [
    {
      en: 'Ratio',
      kr: '비율',
      definition: '두 양의 상대적 크기를 나타내는 것. a:b 또는 a/b로 표기',
    },
    {
      en: 'Proportion',
      kr: '비례',
      definition:
        '두 비율이 같다는 등식. a:b = c:d는 ad = bc를 의미함',
    },
    {
      en: 'Direct Proportion',
      kr: '정비례',
      definition:
        '한 양이 증가하면 다른 양도 같은 비율로 증가하는 관계. y = kx',
    },
    {
      en: 'Inverse Proportion',
      kr: '반비례',
      definition:
        '한 양이 증가하면 다른 양은 같은 비율로 감소하는 관계. y = k/x',
    },
    {
      en: 'Cross Multiplication',
      kr: '교차곱',
      definition:
        '비례식 a/b = c/d에서 ad = bc로 변환하는 방법',
    },
    {
      en: 'Percent',
      kr: '백분율 (퍼센트)',
      definition:
        '전체를 100으로 보았을 때의 비율. 25%는 25/100 = 1/4을 의미',
    },
    {
      en: 'Part',
      kr: '부분',
      definition:
        '전체를 구성하는 일부. 비율에서 각 항은 전체의 한 부분을 나타냄',
    },
    {
      en: 'Whole',
      kr: '전체',
      definition:
        '모든 부분을 합한 것. 비율 a:b에서 전체는 a+b',
    },
    {
      en: 'Rate',
      kr: '비율 (속도/단위당 양)',
      definition:
        '단위당 변화량. 예: 시속 60km는 1시간당 60km의 비율',
    },
    {
      en: 'Scale',
      kr: '축척 (스케일)',
      definition:
        '실제 크기와 표현된 크기의 비율. 지도에서 1:10000은 1cm가 실제 100m를 의미',
    },
  ],

  problems: [
    // ==================== EASY (5 problems) ====================
    {
      id: 'ratio-1',
      topicSlug: 'ratios-proportions',
      question:
        '한 학급에서 남학생과 여학생의 비율이 3:5이고, 전체 학생 수가 40명일 때, 남학생은 몇 명입니까?',
      options: ['12명', '15명', '18명', '20명', '24명'],
      correctIndex: 1,
      explanation:
        '남학생과 여학생의 비율이 3:5이므로, 전체는 3+5 = 8 파트입니다.\n\n1 파트 = 40 ÷ 8 = 5명\n\n남학생 = 3 파트 = 3 × 5 = 15명\n\n검증: 여학생 = 5 × 5 = 25명, 15 + 25 = 40명 ✓',
      difficulty: 'easy',
    },
    {
      id: 'ratio-2',
      topicSlug: 'ratios-proportions',
      question:
        '어떤 레시피에서 밀가루와 설탕의 비율이 5:2입니다. 밀가루를 350g 사용한다면 설탕은 몇 g 필요합니까?',
      options: ['100g', '120g', '140g', '160g', '175g'],
      correctIndex: 2,
      explanation:
        '밀가루:설탕 = 5:2이므로 비례식을 세웁니다.\n\n5:2 = 350:x\n\n교차곱: 5x = 2 × 350 = 700\nx = 700 ÷ 5 = 140g\n\n검증: 350:140 = 35:14 = 5:2 ✓',
      difficulty: 'easy',
    },
    {
      id: 'ratio-3',
      topicSlug: 'ratios-proportions',
      question:
        'x:y = 4:7일 때, x는 y의 몇 %입니까? (소수점 첫째 자리에서 반올림)',
      options: ['약 43%', '약 47%', '약 54%', '약 57%', '약 64%'],
      correctIndex: 3,
      explanation:
        'x:y = 4:7이므로 x/y = 4/7\n\nx는 y의 (4/7) × 100% = 57.14...%\n\n소수점 첫째 자리에서 반올림하면 약 57%입니다.',
      difficulty: 'easy',
    },
    {
      id: 'ratio-4',
      topicSlug: 'ratios-proportions',
      question:
        '두 수의 비가 2:9입니다. 작은 수가 14일 때, 큰 수는 얼마입니까?',
      options: ['54', '56', '63', '72', '81'],
      correctIndex: 2,
      explanation:
        '두 수의 비가 2:9이고, 작은 수 = 14입니다.\n\n비례식: 2:9 = 14:x\n교차곱: 2x = 9 × 14 = 126\nx = 126 ÷ 2 = 63\n\n검증: 14:63 = 2:9 (양변을 7로 나눔) ✓',
      difficulty: 'easy',
    },
    {
      id: 'ratio-5',
      topicSlug: 'ratios-proportions',
      question:
        '어떤 지도에서 축척이 1:50,000입니다. 지도 위에서 두 도시 사이의 거리가 6cm일 때, 실제 거리는 몇 km입니까?',
      options: ['2km', '3km', '4km', '5km', '6km'],
      correctIndex: 1,
      explanation:
        '축척 1:50,000은 지도 1cm가 실제 50,000cm임을 의미합니다.\n\n지도 거리 = 6cm\n실제 거리 = 6 × 50,000 = 300,000cm\n\n단위 변환: 300,000cm = 3,000m = 3km',
      difficulty: 'easy',
    },

    // ==================== MEDIUM (6 problems) ====================
    {
      id: 'ratio-6',
      topicSlug: 'ratios-proportions',
      question:
        'x:y = 2:3이고 y:z = 4:5일 때, x:z는 얼마입니까?',
      options: ['2:5', '3:5', '8:15', '6:10', '4:15'],
      correctIndex: 2,
      explanation:
        'x:y = 2:3이고 y:z = 4:5에서, y의 값을 통일해야 합니다.\n\ny를 3과 4의 최소공배수인 12로 맞춥니다.\n\nx:y = 2:3 → 양변에 4를 곱하면 x:y = 8:12\ny:z = 4:5 → 양변에 3을 곱하면 y:z = 12:15\n\n따라서 x:y:z = 8:12:15\nx:z = 8:15',
      difficulty: 'medium',
    },
    {
      id: 'ratio-7',
      topicSlug: 'ratios-proportions',
      question:
        '우유와 물이 4:1로 섞인 혼합물 20리터가 있습니다. 이 혼합물에 물을 추가하여 우유와 물의 비율을 2:1로 만들려면, 물을 몇 리터 추가해야 합니까?',
      options: ['2리터', '4리터', '5리터', '6리터', '8리터'],
      correctIndex: 1,
      explanation:
        '현재 혼합물 20리터에서:\n우유 = 20 × 4/5 = 16리터\n물 = 20 × 1/5 = 4리터\n\n물을 x리터 추가하면:\n우유:물 = 16:(4+x) = 2:1\n\n교차곱: 16 × 1 = 2 × (4+x)\n16 = 8 + 2x\n2x = 8\nx = 4리터\n\n검증: 우유:물 = 16:8 = 2:1 ✓',
      difficulty: 'medium',
    },
    {
      id: 'ratio-8',
      topicSlug: 'ratios-proportions',
      question:
        '어떤 회사에서 부서 A, B, C의 직원 수 비율이 2:3:5입니다. 부서 C에 50명이 있을 때, 전체 직원 수는 몇 명입니까?',
      options: ['80명', '90명', '100명', '110명', '120명'],
      correctIndex: 2,
      explanation:
        'A:B:C = 2:3:5이므로 전체 = 2+3+5 = 10 파트입니다.\n\nC = 5 파트 = 50명이므로\n1 파트 = 50 ÷ 5 = 10명\n\n전체 = 10 파트 = 10 × 10 = 100명\n\n검증: A = 20명, B = 30명, C = 50명, 합계 = 100명 ✓',
      difficulty: 'medium',
    },
    {
      id: 'ratio-9',
      topicSlug: 'ratios-proportions',
      question:
        '두 파이프 A와 B의 물 주입 속도 비율이 3:2입니다. A 파이프만으로 수영장을 채우는 데 10시간이 걸린다면, B 파이프만으로는 몇 시간이 걸립니까?',
      options: ['12시간', '13시간', '15시간', '16시간', '20시간'],
      correctIndex: 2,
      explanation:
        'A와 B의 속도 비율이 3:2입니다.\n\nA의 속도 = 3k, B의 속도 = 2k (k는 비례상수)\n\nA 파이프로 10시간이 걸리므로:\n수영장 용량 = A의 속도 × 10 = 3k × 10 = 30k\n\nB 파이프만 사용할 때 걸리는 시간:\n시간 = 수영장 용량 ÷ B의 속도 = 30k ÷ 2k = 15시간\n\n다른 풀이: 속도가 반비례 관계이므로\nA 시간 : B 시간 = B 속도 : A 속도 = 2 : 3\n10 : B 시간 = 2 : 3\nB 시간 = 10 × 3/2 = 15시간',
      difficulty: 'medium',
    },
    {
      id: 'ratio-10',
      topicSlug: 'ratios-proportions',
      question:
        '형과 동생의 현재 나이 비율이 5:3이고, 4년 후에는 비율이 3:2가 됩니다. 형의 현재 나이는 몇 살입니까?',
      options: ['15살', '20살', '25살', '30살', '35살'],
      correctIndex: 1,
      explanation:
        '현재 나이를 형 = 5k, 동생 = 3k로 놓습니다.\n\n4년 후: 형 = 5k+4, 동생 = 3k+4\n비율 조건: (5k+4):(3k+4) = 3:2\n\n교차곱: 2(5k+4) = 3(3k+4)\n10k + 8 = 9k + 12\nk = 4\n\n형의 현재 나이 = 5k = 5 × 4 = 20살\n\n검증: 현재 형:동생 = 20:12 = 5:3 ✓\n4년 후 형:동생 = 24:16 = 3:2 ✓',
      difficulty: 'medium',
    },
    {
      id: 'ratio-11',
      topicSlug: 'ratios-proportions',
      question:
        '농도 20%인 소금물 300g과 농도 8%인 소금물을 섞어 농도 12%인 소금물을 만들려고 합니다. 농도 8%인 소금물은 몇 g 필요합니까?',
      options: ['400g', '500g', '600g', '700g', '800g'],
      correctIndex: 2,
      explanation:
        '8% 소금물의 양을 x(g)로 놓습니다.\n\n소금의 양으로 방정식을 세웁니다:\n20% × 300 + 8% × x = 12% × (300 + x)\n60 + 0.08x = 0.12(300 + x)\n60 + 0.08x = 36 + 0.12x\n60 - 36 = 0.12x - 0.08x\n24 = 0.04x\nx = 600g\n\nAlligation으로도 풀 수 있습니다:\n20%와 8%를 섞어 12%를 만들 때\n비율 = (12-8):(20-12) = 4:8 = 1:2\n20% : 8% = 1 : 2\n300 : x = 1 : 2\nx = 600g ✓',
      difficulty: 'medium',
    },

    // ==================== HARD (4 problems) ====================
    {
      id: 'ratio-12',
      topicSlug: 'ratios-proportions',
      question:
        '어떤 합금은 구리, 아연, 주석이 5:3:2의 비율로 섞여 있습니다. 이 합금 800g에서 구리의 비율을 50%에서 60%로 높이려면, 순수한 구리를 몇 g 추가해야 합니까?',
      options: ['100g', '150g', '200g', '250g', '300g'],
      correctIndex: 2,
      explanation:
        '현재 합금 800g에서:\n구리 = 800 × 5/10 = 400g\n아연 = 800 × 3/10 = 240g\n주석 = 800 × 2/10 = 160g\n\n순수 구리를 x(g) 추가하면 전체 = (800+x)g, 구리 = (400+x)g\n\n구리 비율 60% 조건:\n(400+x)/(800+x) = 60/100 = 3/5\n\n교차곱: 5(400+x) = 3(800+x)\n2000 + 5x = 2400 + 3x\n2x = 400\nx = 200g\n\n검증: 구리 = 600g, 전체 = 1000g, 비율 = 600/1000 = 60% ✓',
      difficulty: 'hard',
    },
    {
      id: 'ratio-13',
      topicSlug: 'ratios-proportions',
      question:
        '3명의 파트너 A, B, C가 각각 ₩1,000,000, ₩2,000,000, ₩3,000,000을 투자했습니다. A는 12개월, B는 9개월, C는 10개월 동안 투자를 유지했습니다. 총 이익 ₩7,200,000을 투자금과 투자기간의 곱에 비례하여 배분할 때, B의 이익 배당금은 얼마입니까?',
      options: [
        '₩1,200,000',
        '₩1,800,000',
        '₩2,160,000',
        '₩2,400,000',
        '₩3,600,000',
      ],
      correctIndex: 2,
      explanation:
        '이익 배분은 (투자금 x 투자기간)의 비율로 합니다.\n\nA의 투자 비중 = 1 × 12 = 12\nB의 투자 비중 = 2 × 9 = 18\nC의 투자 비중 = 3 × 10 = 30\n\n비율 합계 = 12 + 18 + 30 = 60\n\nB의 이익 = 7,200,000 × 18/60\n= 7,200,000 × 3/10\n= 2,160,000원\n\n검증:\nA의 이익 = 7,200,000 × 12/60 = 1,440,000원\nB의 이익 = 7,200,000 × 18/60 = 2,160,000원\nC의 이익 = 7,200,000 × 30/60 = 3,600,000원\n합계 = 1,440,000 + 2,160,000 + 3,600,000 = 7,200,000원 ✓',
      difficulty: 'hard',
    },
    {
      id: 'ratio-14',
      topicSlug: 'ratios-proportions',
      question:
        'A, B 두 사람이 함께 일하면 12일이 걸리고, B, C 두 사람이 함께 일하면 15일이 걸리며, A, C 두 사람이 함께 일하면 20일이 걸립니다. 세 사람이 함께 일하면 며칠이 걸립니까?',
      options: ['8일', '9일', '10일', '11일', '12일'],
      correctIndex: 2,
      explanation:
        '하루 작업량을 각각 A, B, C로 놓습니다.\n\nA + B = 1/12 (하루에 전체의 1/12 완료)\nB + C = 1/15\nA + C = 1/20\n\n세 식을 모두 더합니다:\n2(A + B + C) = 1/12 + 1/15 + 1/20\n\n통분 (LCM = 60):\n= 5/60 + 4/60 + 3/60\n= 12/60\n= 1/5\n\n따라서 A + B + C = 1/10\n\n세 사람이 함께 일하면 하루에 1/10씩 완료하므로, 전체 작업에 10일이 걸립니다.',
      difficulty: 'hard',
    },
    {
      id: 'ratio-15',
      topicSlug: 'ratios-proportions',
      question:
        '용액 A는 산(acid)과 물의 비율이 1:4이고, 용액 B는 산과 물의 비율이 3:2입니다. 용액 A 200ml와 용액 B를 섞어 산과 물의 비율이 2:3인 혼합물을 만들려면, 용액 B는 몇 ml 필요합니까?',
      options: ['100ml', '150ml', '200ml', '250ml', '300ml'],
      correctIndex: 2,
      explanation:
        '용액 A 200ml에서:\n산 = 200 × 1/5 = 40ml\n물 = 200 × 4/5 = 160ml\n\n용액 B를 x(ml) 섞는다고 하면:\nB의 산 = x × 3/5\nB의 물 = x × 2/5\n\n혼합 후 산:물 = 2:3이므로 산/(전체) = 2/5 조건을 세웁니다:\n(40 + 3x/5) / (200 + x) = 2/5\n\n교차곱: 5(40 + 3x/5) = 2(200 + x)\n200 + 3x = 400 + 2x\nx = 200ml\n\n검증:\n총 산 = 40 + 200 × 3/5 = 40 + 120 = 160ml\n총 물 = 160 + 200 × 2/5 = 160 + 80 = 240ml\n산:물 = 160:240 = 2:3 ✓\n\n따라서 용액 B는 200ml 필요합니다.',
      difficulty: 'hard',
    },
  ],
};
